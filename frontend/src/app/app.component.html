<nav class="navbar navbar-light bg-light">
  <a class="navbar-brand mr-auto"href="#">Blockchain Encuesta</a>
  <!--Paso 2. Mostrar el formulario de nueva encuesta al clickear-->
  <button type="button"
  class="btn btn-secondary"
  (click) = "showForm = !showForm"
  >Crear Encuesta</button>
</nav>

<section class = "jumpotron bg-light text-center">
  <h1>Listado de encuestas</h1>
  <p class = "lead text-muted">Desarrollado con Blockchain</p>
</section>

<!--dato @Output : pollCreated se crea al momento de hacer el submit en el formulario-->
<!-- $event: variable de tipo PollForm en formato JSON-->
<app-poll-create
*ngIf = "showForm"
(pollCreated) = "handlePollCreate($event)"
></app-poll-create>

<div class="d-flex">

  <!--Mostrando la lista de encuestas -->
  <div class = "container poll-list">
    <!--Recogemos poll desde app.component.ts -->
     <!--Polls viene desde app.component-->
    <app-poll
        *ngFor = "let poll of polls | async"
        [question] = "poll.question"
        [pollImage] = "poll.thumbnail"
        [voted] = "poll.voted"
        [votes] = "poll.results"
        (click) = "setActivePoll(poll)"
    ></app-poll>
  </div>


  <!--Mostrando el detalle de la encuesta-->
  <div class = "container poll-detail">
    <!--activePoll viene desde app.component-->
    <!--pollVoted viene desde app.component.ts-->
    <app-poll-vote
          *ngIf = "activePoll"
          (pollVoted) = "handlePollVote($event)"
          [id] = "activePoll.id"
          [voted]    = "activePoll.voted"
          [question] = "activePoll.question"
          [options]  = "activePoll.options"
          [results]  = "activePoll.results"
    ></app-poll-vote>
  </div>
</div>
